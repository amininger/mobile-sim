sp {topstate*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <building> <world>)

   (<world> ^handle world-map ^waypoint <bwp01>)
   (<bwp01> ^handle bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)

   ### BUILDING ###

   (<building> ^handle bmap1 ^super-waypoint <bwp01>
       ^waypoint <wp03> <wp05> <wp07> <wp12> <wp17> )

   ### WAYPOINTS ###

  (<wp03> ^handle wp03 ^handle-int 3 ^x -21.00 ^y 3.50 ^map <building>)
   (<wp03> ^edge <e0305>)
    (<e0305> ^start <wp03> ^end <wp05> ^wall-side 1)

  (<wp05> ^handle wp05 ^handle-int 5 ^x -21.00 ^y -1.50 ^map <building>)
   (<wp05> ^edge <e0503>)
    (<e0503> ^start <wp05> ^end <wp03> ^wall-side -1)
   (<wp05> ^edge <e0507>)
    (<e0507> ^start <wp05> ^end <wp07> ^wall-side 1)

  (<wp07> ^handle wp07 ^handle-int 7 ^x -28.50 ^y -1.50 ^map <building>)
   (<wp07> ^edge <e0705>)
    (<e0705> ^start <wp07> ^end <wp05> ^wall-side -1)
   (<wp07> ^edge <e0717>)
    (<e0717> ^start <wp07> ^end <wp17> ^wall-side 1)


  (<wp17> ^handle wp17 ^handle-int 17 ^x -28.50 ^y -17.00 ^map <building>)
   (<wp17> ^edge <e1707>)
    (<e1707> ^start <wp17> ^end <wp07> ^wall-side -1)

}
