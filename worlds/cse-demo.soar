sp {topstate*elaborate*map
   (state <s> ^superstate nil)
-->
   (<s> ^maps <maps>)
   (<maps> ^map <building> <world>)

   (<world> ^handle world-map ^waypoint <bwp01>)
   (<bwp01> ^handle bwp01 ^x 0 ^y 0 ^map <world> ^sub-map <building>)

   ### BUILDING ###

   (<building> ^handle bmap1 ^super-waypoint <bwp01>
       ^waypoint <wp02> <wp05> <wp07> <wp12> <wp15> 
       ^waypoint <wp101> )

   ### WAYPOINTS ###

  (<wp02> ^handle wp02 ^handle-int 2 ^x -21.00 ^y 6.40 ^map <building>)
   (<wp02> ^edge <e0205>)
    (<e0205> ^start <wp02> ^end <wp05> ^wall-side 1)

  (<wp05> ^handle wp05 ^handle-int 5 ^x -21.00 ^y -1.50 ^map <building>)
   (<wp05> ^edge <e0502>)
    (<e0502> ^start <wp05> ^end <wp02> ^wall-side -1)
   (<wp05> ^edge <e0507>)
    (<e0507> ^start <wp05> ^end <wp07> ^wall-side 1)

  (<wp07> ^handle wp07 ^handle-int 7 ^x -28.50 ^y -1.50 ^map <building>)
   (<wp07> ^edge <e0705>)
    (<e0705> ^start <wp07> ^end <wp05> ^wall-side -1)
   (<wp07> ^edge <e0712>)
    (<e0712> ^start <wp07> ^end <wp12> ^wall-side 1)

  (<wp12> ^handle wp12 ^handle-int 12 ^x -28.50 ^y -15.50 ^map <building>)
   (<wp12> ^edge <e1207>)
    (<e1207> ^start <wp12> ^end <wp07> ^wall-side -1)
   (<wp12> ^edge <e12101>)
    (<e12101> ^start <wp12> ^end <wp101> ^wall-side 1)
   (<wp12> ^edge <e1215>)
    (<e1215> ^start <wp12> ^end <wp15> ^wall-side 1)

  (<wp15> ^handle wp15 ^handle-int 15 ^x -28.50 ^y -22.50 ^map <building>)
   (<wp15> ^edge <e1512>)
    (<e1512> ^start <wp15> ^end <wp12> ^wall-side -1)

  (<wp101> ^handle wp101 ^handle-int 101 ^x -35.00 ^y -15.50 ^map <building>)
   (<wp101> ^edge <e10112>)
    (<e10112> ^start <wp101> ^end <wp12> ^wall-side -1)

}
